From 283c83e0d3bca73b61c1d116c05fe4ccaa96ec04 Mon Sep 17 00:00:00 2001
From: Denis Pauk <pauk.denis@gmail.com>
Date: Tue, 6 Aug 2013 09:49:42 +0300
Subject: [PATCH 31/35] run close socket on Solaris, same as we do on other
 platforms

https://bugzilla.gnome.org/show_bug.cgi?id=705188
---
 nanohttp.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/nanohttp.c b/nanohttp.c
index ac47ea6..640b350 100644
--- a/nanohttp.c
+++ b/nanohttp.c
@@ -1003,6 +1003,7 @@ xmlNanoHTTPConnectAttempt(struct sockaddr *addr)
             0) {
             /* Solaris error code */
             __xmlIOErr(XML_FROM_HTTP, 0, "getsockopt failed\n");
+            closesocket(s);
             return INVALID_SOCKET;
         }
 #endif
-- 
1.8.4.1

